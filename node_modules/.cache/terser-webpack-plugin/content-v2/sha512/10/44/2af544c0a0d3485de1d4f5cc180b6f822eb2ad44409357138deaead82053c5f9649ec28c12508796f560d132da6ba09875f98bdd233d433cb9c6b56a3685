{"code":"var Client=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=1)}([function(e,t,r){},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"addTrip\",(function(){return f})),r.d(t,\"inputCheck\",(function(){return b})),r.d(t,\"addTripList\",(function(){return m}));const n=document.querySelector(\"#result\"),o=document.querySelector(\"#planner\"),a=document.querySelector(\".map__link\"),c=document.querySelector(\"#save\"),i=document.querySelector(\"#delete\"),u=document.querySelector(\"#form\"),s=document.querySelector('input[name=\"from\"]'),l=document.querySelector('input[name=\"to\"]'),d=document.querySelector('input[name=\"date\"]'),y=Date.now()/1e3,m=a.addEventListener(\"click\",(function(e){e.preventDefault(),o.scrollIntoView({behavior:\"smooth\"})}));function f(e){e.preventDefault();const t=s.value,r=l.value,n=d.value,o=new Date(n).getTime()/1e3;Client.inputCheck(t,r,\"luisguerra44\"),p(\"http://api.geonames.org/searchJSON?q=\",r,\"luisguerra44\").then(e=>{const t=e.geonames[0].lat,r=e.geonames[0].lng,n=e.geonames[0].countryName;return h(t,r,n,o)}).then(e=>{const a=Math.round((o-y)/86400);return g(\"http://localhost:8800/add\",{leavingFromText:t,goingToText:r,depDateText:n,weather:e.currently.temperature,summary:e.currently.summary,daysLeft:a})}).then(e=>{v(e)})}u.addEventListener(\"submit\",f),c.addEventListener(\"click\",(function(e){window.print(),location.reload()})),i.addEventListener(\"click\",(function(e){u.reset(),n.classList.add(\"invisible\"),location.reload()}));const p=async(e,t,r)=>{const n=await fetch(e+t+\"&username=\"+r);try{return await n.json()}catch(e){console.log(\"error\",e)}},h=async(e,t,r,n)=>{const o=await fetch(\"https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast//18d3edfabe7c1aca69e12c3435fb2bc3/\"+e+\",\"+t+\",\"+n+\"?exclude=minutely,hourly,daily,flags\");try{return await o.json()}catch(e){console.log(\"error\",e)}},g=async(e=\"\",t={})=>{const r=await fetch(e,{method:\"POST\",credentials:\"same-origin\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"},body:JSON.stringify({depCity:t.leavingFromText,arrCity:t.goingToText,depDate:t.depDateText,weather:t.weather,summary:t.summary,daysLeft:t.daysLeft})});try{return await r.json()}catch(e){console.log(\"error\",e)}},v=async e=>{n.classList.remove(\"invisible\"),n.scrollIntoView({behavior:\"smooth\"});const t=await fetch(\"https://pixabay.com/api/?key=15613626-e85ccff9f9c79c823442eb254&q=\"+e.City+\"+city&image_type=photo\");try{const r=await t.json(),n=e.depDate.split(\"-\").reverse().join(\" / \");document.querySelector(\"#city\").innerHTML=e.City,document.querySelector(\"#date\").innerHTML=n,document.querySelector(\"#days\").innerHTML=e.daysLeft,document.querySelector(\"#summary\").innerHTML=e.summary,document.querySelector(\"#temp\").innerHTML=e.weather,document.querySelector(\"#fromPixabay\").setAttribute(\"src\",r.hits[0].webformatURL)}catch(e){console.log(\"error\",e)}};function b(e,t){let r=/^[a-zA-Z\\s]{0,255}$/;r.test(e)&&r.test(t)||alert(\"Please enter a valid name!!\")}r(0);alert(\"i exist!\")}]);","extractedComments":[]}